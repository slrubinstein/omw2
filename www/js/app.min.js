function dataService(t,n){function e(){return t.get(n.url+"/api/items")}function o(e){return t.post(n.url+"/api/items",e)}return{getItems:e,createItem:o}}function HomeCtrl(t,n){function e(){t.getOmws().then(function(t){o.omws=t.data},function(t){console.log(t)})}var o=this;o.omws=[],e()}function LoginCtrl(t,n,e,o){function i(){function t(){e.executeScript({code:"document.URL"},function(t){t.toString();e.executeScript({code:"document.cookie"},function(t){a(t)})})}function n(o){e.removeEventListener("loadstop",t),e.removeEventListener("exit",n)}var e=window.open("http://sleepy-ridge-8181.herokuapp.com/","_blank","location=yes");e.addEventListener("loadstop",t),e.addEventListener("exit",n)}function a(n){l.cookie=n,console.log("cookie",n),console.log("cookie 0",n[0]);var e=n[0].slice(11);console.log("token",e),localStorage.setItem("cookie",n[0]);var o=localStorage.getItem("cookie");console.log("b",o),t.$apply()}function r(){n.go("tab.home")}var l=this;l.go=r,l.login=i}function userService(){function t(t){n.id.push(t)}var n={id:[]};return{session:n,setSession:t}}function MapCtrl(){}function SigninCtrl(){console.log("home ctrl")}function OmwDetailCtrl(t,n){function e(){n.getOmwDetails(o.omwId).then(function(t){o.omw=t.data},function(t){console.log(t)})}var o=this;o.omw={},o.omwId=t.omwId,e()}angular.module("omw",["ionic","starter.controllers","starter.services"]).constant("apiEndpoint",{url:"local"}).run(["$ionicPlatform",function(t){t.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleLightContent()})}]).config(["$stateProvider","$urlRouterProvider","$httpProvider",function(t,n,e){t.state("login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl as login"}).state("tab",{url:"/tab","abstract":!0,templateUrl:"templates/tabs.html"}).state("tab.home",{url:"/home",views:{"tab-home":{templateUrl:"components/home/home.html",controller:"HomeCtrl as home"}}}).state("tab.omw-detail",{url:"/home/:omwId",views:{"tab-home":{templateUrl:"components/home/omw-detail/omw-detail.html",controller:"OmwDetailCtrl as omw"}}}).state("tab.map",{url:"/map",views:{"tab-map":{templateUrl:"components/map/map.html",controller:"MapCtrl"}}}).state("tab.friends",{url:"/friends",views:{"tab-friends":{templateUrl:"components/friends/friends.html",controller:"FriendsCtrl as friends"}}}).state("tab.friend-detail",{url:"/friends/:friendId",views:{"tab-friends":{templateUrl:"components/friends/friend-detail/friend-detail.html",controller:"FriendDetailCtrl as friendDetail"}}}),n.otherwise("/login"),e.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$location",function(t,n,e){return{request:function(t){return t.headers=t.headers||{},localStorage.getItem("token")&&(t.headers.Cookie=localStorage.getItem("cookie")),t},responseError:function(t){return 401===t.status?(e.path("/"),localStorage.clear(),n.reject(t)):n.reject(t)}}}]),angular.module("omw").factory("dataService",dataService),dataService.$inject=["$http","apiEndpoint"],angular.module("starter.controllers",[]).controller("DashCtrl",["$scope","$ionicSlideBoxDelegate","$http",function(t,n,e){}]).controller("ChatsCtrl",["$scope","Chats",function(t,n){t.chats=n.all(),t.remove=function(t){n.remove(t)}}]).controller("ChatDetailCtrl",["$scope","$stateParams","Chats",function(t,n,e){t.chat=e.get(n.chatId)}]).controller("AccountCtrl",["$scope",function(t){t.settings={enableFriends:!0}}]),angular.module("starter.services",[]).factory("Chats",function(){var t=[{id:0,name:"Ben Sparrow",lastText:"You on your way?",face:"https://pbs.twimg.com/profile_images/514549811765211136/9SgAuHeY.png"},{id:1,name:"Max Lynx",lastText:"Hey, it's me",face:"https://avatars3.githubusercontent.com/u/11214?v=3&s=460"},{id:2,name:"Adam Bradleyson",lastText:"I should buy a boat",face:"https://pbs.twimg.com/profile_images/479090794058379264/84TKj_qa.jpeg"},{id:3,name:"Perry Governor",lastText:"Look at my mukluks!",face:"https://pbs.twimg.com/profile_images/598205061232103424/3j5HUXMY.png"},{id:4,name:"Mike Harrington",lastText:"This is wicked good ice cream.",face:"https://pbs.twimg.com/profile_images/578237281384841216/R3ae1n61.png"}];return{all:function(){return t},remove:function(n){t.splice(t.indexOf(n),1)},get:function(n){for(var e=0;e<t.length;e++)if(t[e].id===parseInt(n))return t[e];return null}}}),angular.module("omw").run(["$templateCache",function(t){t.put("templates/chat-detail.html",'<!--\n  This template loads for the \'tab.friend-detail\' state (app.js)\n  \'friend\' is a $scope variable created in the FriendsCtrl controller (controllers.js)\n  The FriendsCtrl pulls data from the Friends service (service.js)\n  The Friends service returns an array of friend data\n-->\n<ion-view view-title="{{chat.name}}">\n  <ion-content class="padding">\n    <img ng-src="{{chat.face}}" style="width: 64px; height: 64px">\n    <p>\n      {{chat.lastText}}\n    </p>\n  </ion-content>\n</ion-view>\n\n\n'),t.put("templates/tab-account.html",'<ion-view view-title="Account">\n  <ion-content>\n    <ion-list>\n    <ion-toggle  ng-model="settings.enableFriends">\n        Enable Friends\n    </ion-toggle>\n    </ion-list>\n  </ion-content>\n</ion-view>\n'),t.put("templates/tab-chats.html",'<ion-view view-title="Chats">\n  <ion-content>\n    <ion-list>\n      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="chat in chats" type="item-text-wrap" href="#/tab/chats/{{chat.id}}">\n        <img ng-src="{{chat.face}}">\n        <h2>{{chat.name}}</h2>\n        <p>{{chat.lastText}}</p>\n        <i class="icon ion-chevron-right icon-accessory"></i>\n\n        <ion-option-button class="button-assertive" ng-click="remove(chat)">\n          Delete\n        </ion-option-button>\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-view>\n'),t.put("templates/tab-dash.html",'<ion-view view-title="Dashboard">\n  <ion-content class="padding">\n    <div class="list card">\n      <div class="item item-divider">Recent Updates</div>\n      <div class="item item-body">\n        <div>\n          There is a fire in <b>sector 3</b>\n        </div>\n      </div>\n    </div>\n    <div class="list card">\n      <div class="item item-divider">Health</div>\n      <div class="item item-body">\n        <div>\n          You ate an apple today!\n        </div>\n      </div>\n    </div>\n    <div class="list card">\n      <div class="item item-divider">Upcoming</div>\n      <div class="item item-body">\n        <div>\n          You have <b>29</b> meetings on your calendar tomorrow.\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>'),t.put("templates/tabs.html",'<!--\nCreate tabs with an icon and label, using the tabs-positive style.\nEach tab\'s child <ion-nav-view> directive will have its own\nnavigation history that also transitions its views in and out.\n-->\n<ion-tabs class="tabs-icon-top tabs-color-active-positive">\n\n  <!-- Dashboard Tab -->\n  <ion-tab title="Status" icon-off="ion-ios-pulse" icon-on="ion-ios-pulse-strong" href="#/tab/dash">\n    <ion-nav-view name="tab-dash"></ion-nav-view>\n  </ion-tab>\n\n  <!-- Chats Tab -->\n  <ion-tab title="Chats" icon-off="ion-ios-chatboxes-outline" icon-on="ion-ios-chatboxes" href="#/tab/chats">\n    <ion-nav-view name="tab-chats"></ion-nav-view>\n  </ion-tab>\n\n  <!-- Account Tab -->\n  <ion-tab title="Account" icon-off="ion-ios-gear-outline" icon-on="ion-ios-gear" href="#/tab/account">\n    <ion-nav-view name="tab-account"></ion-nav-view>\n  </ion-tab>\n\n\n</ion-tabs>\n'),t.put("components/friends/friends.html",""),t.put("components/home/home.html",'<ion-view view-title="Home">\n  <ion-content>\n  	<ul class="list">\n		  <a href="#/tab/home/{{omw.id}}"\n		  	 class="item item-icon-left item-icon-right"\n		  	 ng-repeat="omw in home.omws track by $index">\n		    <i class="icon ion-home"></i>\n		    	{{omw.to}}\n		    <i class="icon ion-ios-navigate"></i>\n		  </a>\n		</ul>\n  </ion-content>\n</ion-view>'),t.put("components/login/login.html",'<ion-view view-title="Login">\n  <ion-content>\n    <h1>Main</h1>\n    <button ng-click="login.login()">Log in</button>\n    <button ng-click="login.go()">state go</button>\n  </ion-content>\n</ion-view>\n'),t.put("components/map/map.html",'<ion-view view-title="Map">\n  <ion-content>\n  	<h1>map</h1>\n  </ion-content>\n</ion-view>'),t.put("components/signin/signin.html",""),t.put("components/friends/friends-detail/friend-detail.html",""),t.put("components/home/omw-detail/omw-detail.html",'<ion-view view-title="">\n  <ion-content class="padding">\n    <p>\n    	omw details\n    </p>\n  </ion-content>\n</ion-view>\n')}]);var app=angular.module("omw").controller("HomeCtrl",HomeCtrl);HomeCtrl.$inject=["dataService","userService"],angular.module("omw").controller("LoginCtrl",LoginCtrl),LoginCtrl.$inject=["$scope","$state","$timeout","userService"],angular.module("omw").factory("userService",userService),angular.module("omw").controller("MapCtrl",MapCtrl),MapCtrl.$inject=[],app.controller("SigninCtrl",SigninCtrl),SigninCtrl.$inject=[];var app=angular.module("omw").controller("OmwDetailCtrl",OmwDetailCtrl);OmwDetailCtrl.$inject=["$routeParams","dataService"];